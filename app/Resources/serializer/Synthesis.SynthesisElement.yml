Capco\AppBundle\Entity\Synthesis\SynthesisElement:
  exclusion_policy: ALL
  properties:
    id:
      expose: true
      groups: [Elements, ElementsList, ElementDetails]
    published:
      expose: true
      groups: [ElementsList, ElementDetails]
    createdAt:
      expose: true
      groups: [ElementsList, ElementDetails]
    updatedAt:
      expose: true
      groups: [ElementsList, ElementDetails]
    archived:
      expose: true
      groups: [ElementsList, ElementDetails]
    author:
      expose: true
      groups: [ElementsList, ElementDetails, UserDetails]
    parent:
      type: Capco\AppBundle\Entity\Synthesis\SynthesisElement
      expose: true
      groups: [ElementsList, ElementDetails]
      max_depth: 3
    children:
      type: ArrayCollection<Capco\AppBundle\Entity\Synthesis\SynthesisElement>
      expose: true
      groups: [ElementsTree, ElementDetails]
      max_depth: 1
      accessor:
        getter: getPublishedChildren
    displayType:
      expose: true
      groups: [ElementsList, ElementDetails]
    title:
      expose: true
      groups: [ElementsList, Elements, ElementDetails]
    body:
      expose: true
      groups: [ElementDetails]
    link:
      expose: true
      groups: [ElementDetails]
    notation:
      expose: true
      groups: [ElementsList, ElementDetails]
    votes:
      expose: true
      groups: [ElementDetails]
    linkedDataCreation:
      expose: true
      groups: [ElementsList, ElementDetails]
  virtual_properties:
    hasLinkedData:
      serialized_name: has_linked_data
      groups: [ElementsList, ElementDetails]
  relations:
    -
      rel: self
      href:
        route: get_synthesis_element
        parameters:
          synthesis_id: expr(object.getSynthesis().getId())
          element_id: expr(object.getId())
      exclusion:
        groups: [Elements, ElementsList, ElementDetails]
    -
      rel: divide
      href:
        route: divide_synthesis_element
        parameters:
          synthesis_id: expr(object.getSynthesis().getId())
          element_id: expr(object.getId())
      exclusion:
        groups: [Elements, ElementsList, ElementDetails]
    -
      rel: history
      href:
        route: get_synthesis_element_history
        parameters:
          synthesis_id: expr(object.getSynthesis().getId())
          element_id: expr(object.getId())
      exclusion:
        groups: [Elements, ElementsList, ElementDetails]

