imports:
  - { resource: security.yml }
  - { resource: sonata.yml }
  - { resource: liip_imagine.yml }
  - { resource: swarrot.yml }
  - { resource: joli/jolitypo.yml }
  - { resource: cors.yml }
  - { resource: cache.yml }
  - { resource: newrelic.yml }
  - { resource: redis.yml }
  - { resource: twig.yml }
  - { resource: jms.yml }
  - { resource: doctrine.yml }
  - { resource: translation.yml }
  - { resource: prometheus.yml }
  - { resource: swiftmailer.yml }
  - { resource: doctrine_extensions.yml }
  - { resource: hautelook_alice.yml }
  - { resource: fos_user.yml }
  - { resource: http_plug.yml }
  - { resource: hwi_oauth.yml }
  - { resource: fos_rest.yml }
  - { resource: toggle.yml }
  - { resource: ivory_ck_editor.yml }
  - { resource: graphql.yml }
  - { resource: html_purifier.yml }
  - { resource: limenius_react.yml }
  - { resource: saml.yml }

parameters:
  database_driver: '%env(SYMFONY_DATABASE_DRIVER)%'
  database_host: '%env(SYMFONY_DATABASE_HOST)%'
  database_port: '%env(SYMFONY_DATABASE_PORT)%'
  database_name: '%env(SYMFONY_DATABASE_NAME)%'
  database_user: '%env(SYMFONY_DATABASE_USER)%'
  database_password: '%env(SYMFONY_DATABASE_PASSWORD)%'
  rabbitmq_login: '%env(SYMFONY_RABBITMQ_LOGIN)%'
  rabbitmq_password: '%env(SYMFONY_RABBITMQ_PASSWORD)%'
  saml_sp: '%env(SYMFONY_SAML_SP)%'
  elasticsearch_host: '%env(SYMFONY_ELASTICSEARCH_HOST)%'
  redis_host: '%env(SYMFONY_REDIS_HOST)%'
  mailer_user: '%env(SYMFONY_MAILER_USER)%'
  mailer_password: '%env(SYMFONY_MAILER_PASSWORD)%'
  mailer_host: '%env(SYMFONY_MAILER_HOST)%'
  mailer_port: '%env(SYMFONY_MAILER_PORT)%'
  locale: '%env(SYMFONY_LOCALE)%'
  secret: '%env(SYMFONY_SECRET)%'
  use_assetic_controller: '%env(SYMFONY_USE_ASSETIC_CONTROLLER)%'
  facebook_app_id: '%env(SYMFONY_FACEBOOK_APP_ID)%'
  facebook_app_secret: '%env(SYMFONY_FACEBOOK_APP_SECRET)%'
  google_app_id: '%env(SYMFONY_GOOGLE_APP_ID)%'
  google_app_secret: '%env(SYMFONY_GOOGLE_APP_SECRET)%'
  real_favicon_secret: '%env(SYMFONY_REAL_FAVICON_SECRET)%'
  language_analyzer: '%env(SYMFONY_LANGUAGE_ANALYZER)%'
  remember_secret: '%env(SYMFONY_REMEMBER_SECRET)%'
  router.request_context.host: '%env(SYMFONY_ROUTER__REQUEST_CONTEXT__HOST)%'
  router.request_context.scheme: '%env(SYMFONY_ROUTER__REQUEST_CONTEXT__SCHEME)%'
  assets_version: '%env(SYMFONY_ASSETS_VERSION)%'
  recaptcha_private_key: '%env(SYMFONY_RECAPTCHA_PRIVATE_KEY)%'
  twilio_sid: '%env(SYMFONY_TWILIO_SID)%'
  twilio_token: '%env(SYMFONY_TWILIO_TOKEN)%'
  twilio_number: '%env(SYMFONY_TWILIO_NUMBER)%'
  disable_mail_delivery: '%env(SYMFONY_DISABLE_MAIL_DELIVERY)%'
  sentry_dsn: '%env(SYMFONY_SENTRY_DSN)%'
  google_maps_key: ***REMOVED***
  mapbox_secret_key: '%env(SYMFONY_MAPBOX_SECRET_KEY)%'
  loco_key: 5TYY2LOJxU7WgnDpreCQYXkXLAS_hsDII
  locales: ['en-GB', 'fr-FR', 'es-ES', 'de-DE']
  google_maps_key_server: '***REMOVED***'
  jms_serializer.serialized_name_annotation_strategy.class: Capco\AppBundle\Utils\IdenticalUnlessSpecifiedPropertyNamingStrategy
  openid_client_id: '%env(SYMFONY_OPENID_CLIENT_ID)%'
  openid_secret: '%env(SYMFONY_OPENID_SECRET)%'
  openid_authorization_url: '%env(SYMFONY_OPENID_AUTHORIZATION_URL)%'
  openid_access_token_url: '%env(SYMFONY_OPENID_ACCESS_TOKEN_URL)%'
  openid_userinfo_url: '%env(SYMFONY_OPENID_USERINFO_URL)%'
  prometheus_bearer_token: '%env(SYMFONY_PROMETHEUS_BEARER_TOKEN)%'

  # Default values
  env(SYMFONY_DATABASE_DRIVER): pdo_mysql
  env(SYMFONY_DATABASE_HOST): 127.0.0.1
  env(SYMFONY_DATABASE_PORT): 3306
  env(SYMFONY_DATABASE_NAME): symfony
  env(SYMFONY_DATABASE_USER): root
  env(SYMFONY_DATABASE_PASSWORD): ~
  env(SYMFONY_RABBITMQ_LOGIN): guest
  env(SYMFONY_RABBITMQ_PASSWORD): guest
  env(SYMFONY_SAML_SP): oda
  env(SYMFONY_ELASTICSEARCH_HOST): 127.0.0.1
  env(SYMFONY_REDIS_HOST): 127.0.0.1
  env(SYMFONY_MAILER_USER): ~
  env(SYMFONY_MAILER_PASSWORD): ~
  env(SYMFONY_MAILER_HOST): mailcatchersmtp
  env(SYMFONY_MAILER_PORT): 25
  env(SYMFONY_LOCALE): fr-FR
  env(SYMFONY_SECRET): ***REMOVED***
  env(SYMFONY_USE_ASSETIC_CONTROLLER): true
  env(SYMFONY_FACEBOOK_APP_ID): ***REMOVED***
  env(SYMFONY_FACEBOOK_APP_SECRET): ***REMOVED***
  env(SYMFONY_GOOGLE_APP_ID): ***REMOVED***
  env(SYMFONY_GOOGLE_APP_SECRET): ***REMOVED***
  env(SYMFONY_MAPBOX_SECRET_KEY): ***REMOVED***
  env(SYMFONY_REAL_FAVICON_SECRET): ***REMOVED***
  env(SYMFONY_JWT_TOKEN_TTL): 86400
  env(SYMFONY_LANGUAGE_ANALYZER): french
  env(SYMFONY_REMEMBER_SECRET): ***REMOVED***
  env(SYMFONY_ROUTER__REQUEST_CONTEXT__HOST): capco.dev
  env(SYMFONY_ROUTER__REQUEST_CONTEXT__SCHEME): https
  env(SYMFONY_ASSETS_VERSION): v1
  env(SYMFONY_RECAPTCHA_PRIVATE_KEY): ***REMOVED***
  env(SYMFONY_TWILIO_SID): ***REMOVED***
  env(SYMFONY_TWILIO_TOKEN): ***REMOVED***
  env(SYMFONY_TWILIO_NUMBER): +***REMOVED***
  env(SYMFONY_DISABLE_MAIL_DELIVERY): false
  env(SYMFONY_SENTRY_DSN): ~
  env(SYMFONY_OPENID_CLIENT_ID): ~
  env(SYMFONY_OPENID_SECRET): ~
  env(SYMFONY_OPENID_AUTHORIZATION_URL): ~
  env(SYMFONY_OPENID_ACCESS_TOKEN_URL): ~
  env(SYMFONY_OPENID_USERINFO_URL): ~
  env(SYMFONY_PROMETHEUS_BEARER_TOKEN): ~

framework:
  secret: '%secret%'
  serializer:
    enabled: true
  cache:
    app: cache.adapter.redis
    default_redis_provider: "redis://%redis_host%"
  router:
    resource: '%kernel.root_dir%/config/routing.yml'
    strict_requirements: null
  form: null
  csrf_protection: null
  validation:
    enabled: true
    enable_annotations: true
  templating:
    engines:
      - twig
  assets:
    version: '%assets_version%'
  default_locale: '%locale%'
  trusted_hosts: null
  session:
    handler_id: snc_redis.session.handler
    cookie_httponly: true
    cookie_secure: true
  fragments: null
  http_method_override: true
  translator:
    paths:
      - '%kernel.project_dir%/translations'
    fallback: fr-FR

services:
  twig.extension.text:
    class: Twig_Extensions_Extension_Text
    tags:
      - { name: twig.extension }
  twig.extension.intl:
    class: Twig_Extensions_Extension_Intl
    tags:
      - { name: twig.extension }

nelmio_api_doc: ~

sensio_framework_extra:
    router:      { annotations: true }
    request:     { converters: true, auto_convert: true }
    view:        { annotations: true }
    security:    { annotations: true }
    psr_message: { enabled: false }
