imports:
  - { resource: config.yml }

framework:
  router:
    resource: '%kernel.root_dir%/../config/routes/dev/routing_dev.yaml'
    strict_requirements: true
  profiler:
    only_exceptions: false

web_profiler:
  toolbar: true
  intercept_redirects: false

translation:
  symfony_profiler:
    enabled: true

monolog:
  handlers:
    file:
      type: rotating_file
      path: '%kernel.logs_dir%/dev.log'
      level: debug
    main:
      type: stream
      path: php://stderr
      level: info
    console:
      type: console
      bubble: false
      verbosity_levels:
        VERBOSITY_VERBOSE: INFO
        VERBOSITY_VERY_VERBOSE: DEBUG
      channels: ['!doctrine']
    console_very_verbose:
      type: console
      bubble: false
      verbosity_levels:
        VERBOSITY_VERBOSE: NOTICE
        VERBOSITY_VERY_VERBOSE: NOTICE
        VERBOSITY_DEBUG: DEBUG
      channels: ['doctrine']

services:
  Capco\AppBundle\Router\I18nRouter:
    autowire: true
    arguments:
      $resource: '%kernel.project_dir%/config/routes/dev/routing_dev.yaml'
    calls:
      - [setLocaleResolver, ['@jms_i18n_routing.locale_resolver']]
      - [setI18nLoaderId, ['jms_i18n_routing.loader']]
      - [setDefaultLocale, ['%jms_i18n_routing.default_locale%']]
      - [setRedirectToHost, ['%jms_i18n_routing.redirect_to_host%']]

  jms_i18n_routing.router: '@Capco\AppBundle\Router\I18nRouter'
