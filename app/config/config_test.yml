imports:
  - { resource: config_dev.yml }

framework:
  router:
    resource: '%kernel.project_dir%/config/routes/routing.yaml'
  test: ~
  profiler:
    collect: false
  translator:
    enabled: true

translation:
  symfony_profiler:
    enabled: false

qandidate_toggle:
  redis_namespace: feature_toggle_test

web_profiler:
  toolbar: false
  intercept_redirects: false

services:
  # We disable captcha validation
  capco.recaptcha.validator:
    class: Capco\AppBundle\Validator\Constraints\ReCaptchaValidator
    autowire: true
    arguments:
      $privateKey: '%recaptcha_private_key%'
      $enabled: false
    tags:
      - { name: validator.constraint_validator, alias: recaptcha.validator }
  # We disable translation
  no_translator:
    class: Capco\AppBundle\Translator\NoTranslator
    decorates: translator
    arguments:
      - '@no_translator.inner'
    public: true

# We disable translation except for routes
parameters:
  webfactory_icu_translation.translator: Capco\AppBundle\Translator\NoTranslator


monolog:
  handlers:
    main:
      type: stream
      path: php://stderr
      level: warning
    file:
      type: stream
      path: '%kernel.logs_dir%/test.log'
      level: debug
