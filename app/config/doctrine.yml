doctrine:
  dbal:
    driver: '%database_driver%'
    host: '%database_host%'
    port: '%database_port%'
    dbname: '%database_name%'
    user: '%database_user%'
    password: '%database_password%'
    charset: UTF8
    server_version: 5.6
    types:
      json: Sonata\Doctrine\Types\JsonType
      enum_sso_configuration: Capco\AppBundle\DBAL\Enum\EnumSSOEnvironmentType
    mapping_types:
      enum: string
  orm:
    # not the best production setting but otherwise cache:warmup fail
    auto_generate_proxy_classes: '%kernel.debug%'
    auto_mapping: true
    # naming_strategy: doctrine.orm.naming_strategy.underscore
    filters:
      softdeleted:
        class: Capco\AppBundle\Filter\SoftDeletedFilter
        enabled: true
    dql:
      datetime_functions:
        DATE: Capco\AppBundle\DQL\DateFunction
      numeric_functions:
        RAND: Capco\AppBundle\DQL\RandFunction
    mappings:
      tree:
        type: annotation
        prefix: Gedmo\Tree\Entity
        dir: '%kernel.project_dir%/vendor/gedmo/doctrine-extensions/lib/Gedmo/Tree/Entity'
        alias: GedmoTree
      loggable:
        type: annotation
        alias: GedmoLoggable
        prefix: Gedmo\Loggable\Entity
        dir: '%kernel.project_dir%/vendor/gedmo/doctrine-extensions/lib/Gedmo/Loggable/Entity'
        is_bundle: false
    resolve_target_entities:
      # Used to tell synthesis tool wich entity to use for users. If none is defined in the project, you can use Capco\AppBundle\Entity\Synthesis\SynthesisUser
      Capco\AppBundle\Entity\Synthesis\SynthesisUserInterface: Capco\UserBundle\Entity\User
