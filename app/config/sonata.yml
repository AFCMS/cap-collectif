sonata_admin:
    title:      Cap Collectif
    options:
        pager_links: 5 # pager max links to display
    templates:
        layout: CapcoAdminBundle::standard_layout.html.twig
    dashboard:
        blocks:
            - { position: left,  type: sonata.admin.block.admin_list, settings: { groups: [sonata.admin.group.user, admin.group.content, admin.group.navigation, admin.group.marketing, admin.group.ideas] } }
            - { position: right, type: sonata.admin.block.admin_list, settings: { groups: [admin.group.consultation, admin.group.reference] } }
        groups:
            sonata.admin.group.user:
                items:
                    - sonata.user.admin.user
                    - sonata.user.admin.group
            admin.group.navigation:
                items:
                    - capco_admin.admin.menu_item
            admin.group.content:
                items:
                    - capco_admin.admin.page
                    - sonata.media.admin.media
            admin.group.marketing:
                items:
                    - capco_admin.admin.newsletter_subscription
                    - capco_admin.admin.social_network
                    - capco_admin.admin.footer_social_network
            admin.group.ideas:
                items:
                    - capco_admin.admin.idea
                    - capco_admin.admin.idea_vote
            admin.group.consultation:
                items:
                    - capco_admin.admin.consultation
                    - capco_admin.admin.step
                    - capco_admin.admin.problem
                    - capco_admin.admin.opinion
                    - capco_admin.admin.vote
                    - capco_admin.admin.argument
                    - capco_admin.admin.argument_vote
                    - capco_admin.admin.reporting
            admin.group.reference:
                items:
                    - capco_admin.admin.theme
                    - capco_admin.admin.opinion_type
                    - capco_admin.admin.problem_type
                    - capco_admin.admin.site_parameter

sonata_block:
    default_contexts: [cms]
    blocks:
        # Enable the SonataAdminBundle block
        sonata.admin.block.admin_list:
            contexts:   [admin]
        sonata.admin.block.search_result:
            contexts:   [ admin ]

        sonata.block.service.text:
        sonata.block.service.rss:

        sonata.user.block.menu:    # used to display the menu in profile pages
        sonata.user.block.account: # used to display menu option (login option)

        sonata.media.block.media:
        sonata.media.block.gallery:
        sonata.media.block.feature_media:


sonata_classification:
    class:
        tag:          Capco\ClassificationBundle\Entity\Tag
        category:     Capco\ClassificationBundle\Entity\Category
        collection:   Capco\ClassificationBundle\Entity\Collection
        context:      Capco\ClassificationBundle\Entity\Context
        media:        Capco\MediaBundle\Entity\Media

sonata_intl:
    locale: ~
    timezone:
        # if service is left blank, the chain detector will be used with detectors
        # defined in the dedicated section
        service:    ~
        detectors:
            - sonata.intl.timezone_detector.user    # default value if SonataUserBundle is available
            - sonata.intl.timezone_detector.locale  # default value

sonata_media:
    class:
        media:             Capco\MediaBundle\Entity\Media
        gallery:           Capco\MediaBundle\Entity\Gallery
        gallery_has_media: Capco\MediaBundle\Entity\GalleryHasMedia
        category:          Capco\ClassificationBundle\Entity\Category
    default_context: default
    db_driver: doctrine_orm # or doctrine_mongodb, doctrine_phpcr
    contexts:
        default:  # the default context is mandatory
            providers:
                - sonata.media.provider.dailymotion
                - sonata.media.provider.youtube
                - sonata.media.provider.vimeo
                - sonata.media.provider.image
                - sonata.media.provider.file
            formats:
                small:          { width: 100, quality: 70 }
                big:            { width: 500, quality: 70 }
                consultation:   { width: 400, height: 300, quality: 70 }
                idea:           { height: 250, quality: 70 }
                blockHeader:    { width: 1140, height: 200, quality: 70 }

        sonata_collection:
            providers:
              - sonata.media.provider.image

            formats:
                preview: { width: 100, quality: 100}
                wide:    { width: 820, quality: 100}

        sonata_category:
            providers:
              - sonata.media.provider.image

            formats:
                preview: { width: 100, quality: 100}
                wide:    { width: 820, quality: 100}
    providers:
        image:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        vimeo:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        youtube:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        dailymotion:
            thumbnail:  sonata.media.thumbnail.liip_imagine
    cdn:
        server:
            path: / # http://media.sonata-project.org/

    filesystem:
        local:
            directory:  %kernel.root_dir%/../web/media
            create:     true

sonata_user:
    security_acl: true
    manager_type: orm
    class:
        group:                Capco\UserBundle\Entity\Group
        user:                 Capco\UserBundle\Entity\User
    profile:
        register:
            form:
                type: capco_user_registration
