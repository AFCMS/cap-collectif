sonata_admin:
    title:      Cap Collectif
    options:
        pager_links: 5 # pager max links to display
    templates:
        layout: CapcoAdminBundle::standard_layout.html.twig
    dashboard:
        blocks:
            - { position: left,  type: sonata.admin.block.admin_list, settings: { groups: [admin.group.moderation] } }
            - { position: right,  type: capco_admin.blog.block.recent_posts, settings: { number: 7, title: admin.label.recent_posts, toggle: 'blog' } }
        groups:
            admin.group.moderation:
                items:
                    - capco_admin.admin.reporting
                    - capco_admin.admin.opinion
                    - capco_admin.admin.argument
                    - capco_admin.admin.source
                    - capco_admin.admin.idea
                    - capco_admin.admin.comment
                    - capco_admin.admin.comment_vote
            admin.group.content:
                items:
                    - capco_admin.admin.theme
                    - capco_admin.admin.page
                    - sonata.media.admin.media
                    - capco_admin.admin.video
            admin.group.consultation:
                items:
                    - capco_admin.admin.consultation
                    - capco_admin.admin.opinion
                    - capco_admin.admin.opinion_vote
                    - capco_admin.admin.argument
                    - capco_admin.admin.argument_vote
                    - capco_admin.admin.source
                    - capco_admin.admin.consultation_type
            admin.group.ideas:
                items:
                    - capco_admin.admin.idea
                    - capco_admin.admin.idea_vote
            admin.group.news:
                items:
                    - capco_admin.admin.post
                    - capco_admin.admin.event
            sonata.admin.group.user:
                items:
                    - sonata.user.admin.user
            admin.group.marketing:
                items:
                    - capco_admin.admin.newsletter_subscription
                    - capco_admin.admin.social_network
                    - capco_admin.admin.footer_social_network
            admin.group.pages:
                items:
                    - capco_admin.admin.section
            admin.group.parameters:
                items:
                    - capco_admin.admin.site_parameter
                    - capco_admin.admin.site_image
                    - capco_admin.admin.site_color
                    - capco_admin.admin.menu_item
                    - capco_admin.admin.opinion_type
                    - capco_admin.admin.category

sonata_doctrine_orm_admin:
    templates:
        form: [ CapcoAdminBundle:Form:form_admin_fields.html.twig ]

sonata_block:
    default_contexts: [cms]
    blocks:
        # Enable the SonataAdminBundle block
        sonata.admin.block.admin_list:
            contexts:   [admin]
        sonata.admin.block.search_result:
            contexts:   [ admin ]

        sonata.block.service.text:
        sonata.block.service.rss:

        sonata.user.block.menu:    # used to display the menu in profile pages
        sonata.user.block.account: # used to display menu option (login option)

        sonata.media.block.media:
        sonata.media.block.gallery:
        sonata.media.block.feature_media:
        capco_admin.blog.block.recent_posts:

        capco.block.service.share_button:

sonata_classification:
    class:
        tag:          Capco\ClassificationBundle\Entity\Tag
        category:     Capco\ClassificationBundle\Entity\Category
        collection:   Capco\ClassificationBundle\Entity\Collection
        context:      Capco\ClassificationBundle\Entity\Context
        media:        Capco\MediaBundle\Entity\Media

sonata_intl:
    locale: ~
    timezone:
        # if service is left blank, the chain detector will be used with detectors
        # defined in the dedicated section
        service:    ~
        detectors:
            - sonata.intl.timezone_detector.user    # default value if SonataUserBundle is available
            - sonata.intl.timezone_detector.locale  # default value
        locales:
            fr: Europe/Paris

sonata_media:
    class:
        media:             Capco\MediaBundle\Entity\Media
        gallery:           Capco\MediaBundle\Entity\Gallery
        gallery_has_media: Capco\MediaBundle\Entity\GalleryHasMedia
        category:          Capco\ClassificationBundle\Entity\Category
    default_context: default
    db_driver: doctrine_orm # or doctrine_mongodb, doctrine_phpcr
    contexts:
        default:  # the default context is mandatory
            download:
                strategy: sonata.media.security.superadmin_strategy
            providers:
                - sonata.media.provider.dailymotion
                - sonata.media.provider.youtube
                - sonata.media.provider.vimeo
                - sonata.media.provider.image
                - sonata.media.provider.file
            formats:
                small:          { width: 100, quality: 70 }
                big:            { width: 500, quality: 70 }
                blockHeader:    { width: 750, height: 500, quality: 70 }
                consultation:   { width: 360, height: 240, quality: 70 }
                form:           { height: 150, quality 70 }
                idea:           { height: 400, quality: 70 }
                logo:           { height: 50, quality: 70 }
                profile:        { width: 200, quality: 70 }
                socialIcon:     { width: 50, height: 50, quality: 70 }
                homepageVideo:  { width: 360, height: 240, quality: 70 }
                header_picto:   { height: 100, quality: 70 }
                theme:          { width: 360, height: 240, quality: 70 }

        sonata_collection:
            providers:
              - sonata.media.provider.image

            formats:
                preview: { width: 100, quality: 100}
                wide:    { width: 820, quality: 100}

        sonata_category:
            providers:
              - sonata.media.provider.image

            formats:
                preview: { width: 100, quality: 100}
                wide:    { width: 820, quality: 100}

        sources:
            download:
                strategy: sonata.media.security.public_strategy
            providers:
                - sonata.media.provider.file
            formats: ~

    providers:
        image:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        vimeo:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        youtube:
            thumbnail:  sonata.media.thumbnail.liip_imagine
        dailymotion:
            thumbnail:  sonata.media.thumbnail.liip_imagine
    cdn:
        server:
            path: / # http://media.sonata-project.org/

    filesystem:
        local:
            directory:  %kernel.root_dir%/../web/media
            create:     true

    providers:
        file:
            service:    sonata.media.provider.file
            resizer:    false
            filesystem: sonata.media.filesystem.local
            cdn:        sonata.media.cdn.server
            generator:  sonata.media.generator.default
            thumbnail:  sonata.media.thumbnail.format
            allowed_extensions: ['pdf', 'txt', 'rtf', 'doc', 'docx', 'xls', 'xlsx', 'ppt', 'pttx', 'odt', 'odg', 'odp', 'ods', 'odc', 'odf', 'odb', 'csv', 'xml']
            allowed_mime_types: ['application/pdf', 'application/x-pdf', 'application/rtf', 'text/html', 'text/rtf', 'text/plain']

sonata_user:
    security_acl: true
    manager_type: orm
    class:
        group:                Capco\UserBundle\Entity\Group
        user:                 Capco\UserBundle\Entity\User
    profile:
        form:
            type: capco_user_profile
            validation_groups:
                - Default
        register:
            form:
                type: capco_user_registration
                validation_groups:
                    - Default
    admin:
        user:
            class: Capco\AdminBundle\Admin\UserAdmin
            controller: CapcoAdminBundle:User
