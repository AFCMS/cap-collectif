services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false
        bind:
            $projectRootDir: '%kernel.project_dir%'
            Predis\ClientInterface: '@snc_redis.default'
            $logger: '@logger'

    Capco\AppBundle\Command\:
        resource: '%kernel.project_dir%/src/Capco/AppBundle/Command/*'
        exclude: '%kernel.project_dir%/src/Capco/AppBundle/Command/Maker/*'

    Capco\AppBundle\Command\Elasticsearch\CheckMappingCommand:
        arguments:
            $kernelRootDir: '%kernel.root_dir%'

    Capco\AppBundle\Command\GenerateMapProviderPublicToken:
        arguments:
            $mapboxSecretKey: '%mapbox_secret_key%'

    Capco\AppBundle\Command\ReinitCommand:
        arguments:
            $name: 'capco:reinit'

    Capco\AppBundle\Command\LoadProdDataCommand:
        arguments:
            $name: 'capco:load-prod-data'

    Capco\AppBundle\Command\CreateAnswersFromCsvCommand:
        arguments:
            $name: 'capco:import:answers-from-csv'

    Capco\AppBundle\Command\ComputeDiffCommand:
        arguments:
            $name: 'capco:compute:diff'

    Capco\AppBundle\Command\CreateAccountsFromEmailsCommand:
        arguments:
            $name: 'capco:import:user-acounts-from-emails'

    Capco\AppBundle\Command\CreateUsersFromCsvCommand:
        arguments:
            $name: 'capco:import:users'

    Capco\AppBundle\Command\ImportConsultationFromCsvCommand:
        arguments:
            $name: 'capco:import:consultation-from-csv'

    Capco\AppBundle\Command\DeleteUserArchiveCommand:
        arguments:
            $name: 'capco:user_archives:delete'

    Capco\AppBundle\Command\ResetFeatureFlagsCommand:
        arguments:
            $name: 'capco:reset-feature-flags'
            $env: '%kernel.environment%'

    Capco\AppBundle\Command\ResetDefaultLocaleCommand:
        arguments:
            $name: 'capco:reset:default-locale'

    Capco\AppBundle\Command\TranslateBasicParameters:
        arguments:
            $name: 'capco:reset:translate-parameters'
