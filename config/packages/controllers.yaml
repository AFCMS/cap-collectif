services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Capco\AppBundle\Controller\Site\:
        resource: '%kernel.root_dir%/../src/Capco/AppBundle/Controller/Site/'
        exclude: '%kernel.project_dir%/src/Capco/AppBundle/Controller/Site/{ExportController.php}'
        calls:
            - [setContainer, ['@service_container']]

    Capco\AppBundle\Controller\Api\:
        resource: '%kernel.root_dir%/../src/Capco/AppBundle/Controller/Api/'
        exclude: '%kernel.project_dir%/src/Capco/AppBundle/Controller/Api/{GraphQLController.php, GraphiQLController.php}'
        calls:
            - [setContainer, ['@service_container']]

    Capco\AppBundle\Controller\Site\OpinionController:
        public: true

    Capco\AppBundle\Controller\Api\GraphQLController:
        public: true
        arguments:
            $batchParser: '@Overblog\GraphQLBundle\Request\BatchParser'
            $requestParser: '@Overblog\GraphQLBundle\Request\Parser'

    Capco\AppBundle\Controller\Api\GraphiQLController:
        public: true

    Capco\AppBundle\Controller\Site\ExportController:
        arguments:
            $exportDir: '%kernel.project_dir%/public/export/'

    Capco\AppBundle\Controller\Site\DeveloperController:
        public: true

    Capco\AppBundle\Controller\Api\CommentsController:
        public: true

    Capco\AppBundle\Controller\Site\SSOController: null

    Capco\AppBundle\Controller\Site\HomepageController:
        public: true
