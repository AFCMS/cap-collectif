services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Capco\AppBundle\EventListener\AuthenticationHandler:
        autoconfigure: false
    Capco\AppBundle\EventListener\AuthenticationListener:
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@request_stack'
        autoconfigure: false
        tags:
            - {name: kernel.event_listener, event: security.authentication.failure, method: onAuthenticationFailure}
            - {name: kernel.event_listener, event: security.interactive_login, method: onAuthenticationSuccess}
