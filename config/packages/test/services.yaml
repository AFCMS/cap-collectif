imports:
    - { resource: ../services.yaml }

qandidate_toggle:
    redis_namespace: feature_toggle_test

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: true

    capco.swarrot.factory.pecl: '@swarrot.factory.pecl'

    # We disable captcha validation
    Capco\AppBundle\Validator\Constraints\ReCaptchaValidator:
        autowire: true
        arguments:
            $privateKey: '%recaptcha_private_key%'
            $enabled: false
        tags:
            - { name: validator.constraint_validator, alias: recaptcha.validator }
    # We disable translation
    no_translator:
        class: Capco\AppBundle\Translator\NoTranslator
        decorates: translator
        arguments:
            - '@no_translator.inner'
        public: true

# We disable translation except for routes
parameters:
    webfactory_icu_translation.translator: Capco\AppBundle\Translator\NoTranslator
