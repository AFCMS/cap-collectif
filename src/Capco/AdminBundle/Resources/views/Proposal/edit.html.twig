{% extends 'SonataAdminBundle:CRUD:base_edit.html.twig' %}

{% block javascripts %}
{{ parent() }}
<script>
setTimeout(function() {
  jQuery("input[type='checkbox']").iCheck('destroy');
  jQuery(".status-selector").select2('destroy');
}, 1000);
</script>
{% endblock %}

{% block form %}
    {% include '@CapcoApp/redux_store.html.twig' with {
      'project': admin.subject.proposalForm.step.getProject(),
      'data' : {
        'proposal': {
          'proposalsById': {
            (admin.subject.id) : {
              'selections': [],
              'status': admin.subject.status
              ? {
                  'id': admin.subject.status.id,
                  'name': admin.subject.status.name
                }
             : null
            }
          },
        }
      }
    }
    %}
    {{ react_render_component('ProposalAdminPageApp', {
      'props': {
        'proposalId': admin.subject.id,
        'projectId': admin.subject.proposalForm.step.getProjectId()
      },
      'rendering': 'client_side'
    }) }}
{% endblock %}
