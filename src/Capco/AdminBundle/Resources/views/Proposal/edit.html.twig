{% extends 'SonataAdminBundle:CRUD:base_edit.html.twig' %}

{% set title = admin.subject.title|trans({}, 'CapcoAppBundle') %}

{% block title %}
    {{ "global.edit.title"|trans({'name': title|truncate(15) }, 'SonataAdminBundle') }}
{% endblock %}

{% block navbar_title %}
    {{ "global.edit.title"|trans({'name': title }, 'SonataAdminBundle') }}
{% endblock %}

{% block form %}
{% include '@CapcoApp/redux_store.html.twig' with {
  'project': admin.subject.proposalForm.step.getProject()
}
%}
{{ react_render_component('ProposalAdminPageApp', {
  'props': {
    'proposalId': admin.subject.id,
    'viewerIsAdmin': app.user.isAdmin
  },
  'rendering': 'client_side'
}) }}
{% endblock %}

{% block javascripts %}
    {% include 'CapcoAdminBundle::googlemapsapi.html.twig' %}
    {{ parent() }}
{% endblock %}
