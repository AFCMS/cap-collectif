{% extends 'SonataAdminBundle:CRUD:base_edit.html.twig' %}

{% set title = admin.subject.title|trans({}, 'CapcoAppBundle') %}

{% block title %}
    {{ "title_edit"|trans({'%name%': title|truncate(15) }, 'SonataAdminBundle') }}
{% endblock %}

{% block navbar_title %}
    {{ "title_edit"|trans({'%name%': title }, 'SonataAdminBundle') }}
{% endblock %}

{% block form %}
{% include '@CapcoApp/redux_store.html.twig' with {
  'project': admin.subject.proposalForm.step.getProject()
}
%}
{{ react_render_component('ProposalAdminPageApp', {
  'props': {
    'proposalId': admin.subject.id,
  },
  'rendering': 'client_side'
}) }}
{% endblock %}

{% block javascripts %}
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=***REMOVED***&libraries=places"></script>
{{ parent() }}
{% endblock %}
