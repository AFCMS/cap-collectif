{% extends 'SonataAdminBundle:CRUD:base_edit.html.twig' %}
{% set username = admin.subject.displayName|trans({}, 'CapcoAppBundle') %}

{% block title %}
    {{ "title_edit"|trans({'%name%': username|truncate(15) }, 'SonataAdminBundle') }}
{% endblock %}

{% block navbar_title %}
    {{ "title_edit"|trans({'%name%': username }, 'SonataAdminBundle') }}
{% endblock %}

{% block sonata_breadcrumb %}
    {# empty to override #}
{% endblock %}

{% block form %}
    {# override sonata's form to render a react component instead #}
    {% include '@CapcoApp/redux_store.html.twig' %}
    {{ react_render_component('UserAdminPageApp', {
        'props': {
            'userId': admin.subject.id|toGlobalId('User'),
        },
        'rendering': 'client_side'
    }) }}
{% endblock %}
