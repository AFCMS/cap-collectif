Consultation:
    type: object
    inherits: [Node, Step]
    config:
        interfaces: [Node, Step]
        description: "A consultation"
        fields:
            kind:
                resolve: "consultation"
            id:
                description: "The id of the consultation."
            project:
                type: "Project!"
                description: "The project"
            projectId:
                type: "String!"
                description: "The id of the related project."
            title:
                description: "The title of the consultation."
            contribuable:
                type: "Boolean!"
                description: "Contributions are allowed right now."
                resolve: "@=value.canContribute()"
            contributions:
                type: "[Opinion]"
                description: "List of contributions from any sections."
                resolve: "@=resolver('consultation_contributions', [value])"
            sections:
                type: "[Section]"
                description: "List of sections."
                resolve: "@=resolver('consultation_sections', [value, args])"
            contributors:
                type: "UserConnection!"
                description: "A list of contributor associated with the consultation."
                argsBuilder: "Relay::Connection"
                resolve: '@=resolver("Capco\\AppBundle\\GraphQL\\Resolver\\Step\\StepContributorResolver", [value, args])'
            contributionConnection:
                type: "ContributionConnection"
                args:
                    orderBy:
                      type: "ContributionOrder"
                      description: "Ordering options for contributions returned from the connection."
                      # defaultValue: { field: POSITION, direction: DESC }
                    after:
                      type: "String"
                      description: "Returns the elements in the list that come after the specified global ID."
                    first:
                      type: "Int"
                      description: "Returns the first n elements from the list."
                    before:
                      type: "String"
                      description: "Returns the elements in the list that come before the specified global ID."
                    last:
                      type: "Int"
                      description: "Returns the last n elements from the list."
                resolve: '@=resolver("consultationContributionsRelay", [value, args])'
