ProposalVote:
  type: object
  inherits:
    - Publishable
    - PrivatableVote
  config:
    interfaces:
      - Vote
      - Publishable
      - PrivatableVote
    fields:
      anonymous:
        type: 'Boolean!'
        description: 'Is the vote anonymous ?'
        resolve: '@=value.isPrivate()'
      proposal:
        type: 'Proposal!'
        description: 'Return the proposal.'
      step:
        type: 'ProposalStep!'
        description: 'Return the step.'
      ranking:
        type: 'Int'
        description: 'Return the ranking of the vote (if any)'
        resolve: '@=value.getPosition() === null ? null : value.getPosition() + 1'
      author:
        type: 'InternalUser'
        description: 'The author of the contribution. If null, the vote is anonymous.'
        resolve: '@=value.isPrivate() ? null : value.getUser()'
      kind:
        type: 'String!'
        description: "Returns 'proposalVote'."
        resolve: 'proposalVote'
