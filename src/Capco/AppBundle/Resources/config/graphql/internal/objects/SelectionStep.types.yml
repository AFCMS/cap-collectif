SelectionStep:
  type: object
  inherits: [Node, InternalStep, ProposalStep, RequirementStep]
  config:
    interfaces: [Node, InternalStep, ProposalStep, RequirementStep]
    description: 'A budget contribution'
    fields:
      id:
        builder: 'Relay::GlobalId'
        builderConfig:
          typeName: SelectionStep
      kind:
        resolve: 'selection'
      position:
        type: 'Int!'
      allowingProgressSteps:
        type: 'Boolean!'
        description: 'Only one selection step inside a project can have realisation steps, true if this one'
      proposals:
        resolve: '@=resolver("Capco\\AppBundle\\GraphQL\\Resolver\\Step\\SelectionStepProposalResolver", [value, args, getUser(), serv("request_stack")])'
      contributors:
        type: 'InternalUserConnection!'
        description: 'A list of contributor associated with the consultation.'
        argsBuilder: 'Relay::Connection'
        resolve: '@=resolver("Capco\\AppBundle\\GraphQL\\Resolver\\Step\\StepContributorResolver", [value, args])'
