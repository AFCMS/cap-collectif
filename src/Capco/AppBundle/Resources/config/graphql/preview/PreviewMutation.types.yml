PreviewMutation:
  type: object
  config:
    name: Mutation
    fields:
      addEvent:
        access: "@=hasRole('ROLE_ADMIN')"
        builder: 'Relay::Mutation'
        builderConfig:
          inputType: PreviewAddEventInput
          payloadType: PreviewAddEventPayload
          mutateAndGetPayload: '@=mutation("Capco\\AppBundle\\GraphQL\\Mutation\\AddEventMutation", [value, getUser()])'
      changeEvent:
        access: "@=hasRole('ROLE_ADMIN')"
        builder: 'Relay::Mutation'
        builderConfig:
          inputType: PreviewChangeEventInput
          payloadType: PreviewChangeEventPayload
          mutateAndGetPayload: '@=mutation("Capco\\AppBundle\\GraphQL\\Mutation\\ChangeEventMutation", [value, getUser()])'
