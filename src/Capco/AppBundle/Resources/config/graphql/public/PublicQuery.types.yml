PublicQuery:
  type: object
  config:
    name: Query
    description: 'Root of the schema.'
    fields:
      viewer:
        access: "@=hasRole('ROLE_USER')"
        type: 'PublicUser!'
        description: 'The currently authenticated user.'
        resolve: '@=getUser()'
      node:
        builder: 'Relay::Node'
        description: The ID of an object.
        builderConfig:
          nodeInterfaceType: Node
          idFetcher: '@=resolver("query_node", [value, getUser()])'
      nodes:
        type: '[Node]!'
        description: 'Lookup nodes by a list of IDs.'
        args:
          ids:
            type: '[ID!]!'
            description: 'The list of node IDs.'
        resolve: "@=resolver('query_nodes', [args['ids'], getUser()])"
