PublicUser:
  type: object
  inherits: [Node, UniformResourceLocatable]
  config:
    description: "A user is an individual's account."
    interfaces: [Node, UniformResourceLocatable]
    name: User
    fields:
      id:
        builder: 'Relay::GlobalId'
        builderConfig:
          typeName: User
      url:
        resolve: '@=resolver("Capco\\AppBundle\\GraphQL\\Resolver\\User\\UserUrlResolver", [value])'
      username:
        type: 'String'
        description: "The user's public name."
      isViewer:
        type: 'Boolean!'
        access: "@=hasRole('ROLE_USER')"
        resolve: '@=service("Capco\\AppBundle\\GraphQL\\Resolver\\UserIsGrantedResolver").isViewer(getUser(), value)'
        description: 'Whether or not this user is the authenticated user.'
