services:

  capco.help_extension:
    class: Capco\AppBundle\Form\Extension\HelpExtension
    tags:
      - { name: form.type_extension, alias: text }

  capco.form.type_extension.media:
    class: Capco\AppBundle\Form\Extension\MediaTypeExtension
    tags:
      - { name: form.type_extension, alias: sonata_media_type }

  capco.form.opinion:
      class: Capco\AppBundle\Form\OpinionType
      arguments: [@capco.form.transformer.entity_to_id]
      tags:
        - { name: form.type, alias: opinion }

  capco.form.proposal:
      class: Capco\AppBundle\Form\ProposalType
      arguments: [@capco.form.transformer.entity_to_id, @capco.toggle.manager]
      tags:
        - { name: form.type, alias: proposal }

  capco.form.proposal_vote:
        class: Capco\AppBundle\Form\ProposalVoteType
        arguments: [@security.token_storage]
        tags:
          - { name: form.type, alias: proposal_vote }

  capco.form.transformer.entity_to_id:
    class: Capco\AppBundle\Form\DataTransformer\EntityToIdTransformer
    arguments: [@doctrine.orm.entity_manager]
