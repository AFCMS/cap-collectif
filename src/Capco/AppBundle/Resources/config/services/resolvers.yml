services:
  capco.comment.resolver:
    class: Capco\AppBundle\Manager\CommentResolver
    arguments: ['@doctrine.orm.entity_manager', '@router', '@capco.url.resolver']

  capco.project.download.resolver:
    class: Capco\AppBundle\Resolver\ProjectDownloadResolver
    arguments: ['@doctrine.orm.entity_manager', '@translator', '@capco.url.array.resolver', '@phpexcel']

  capco.contribution.resolver:
    class: Capco\AppBundle\Resolver\ContributionResolver
    arguments: ['@capco.user.repository']

  capco.event.resolver:
    class: Capco\AppBundle\Resolver\EventResolver
    arguments: ['@capco.event.repository']

  capco.highlighted.resolver:
    class: Capco\AppBundle\Resolver\HighlightedContentResolver
    arguments: ['@capco.highlighted.repository', '@capco.toggle.manager']

  capco.menu_item.resolver:
    class: Capco\AppBundle\Manager\MenuItemResolver
    arguments: ['@capco.menu_item.repository', '@capco.toggle.manager', '@router', '@validator']

  capco.opinion_types.resolver:
      class: Capco\AppBundle\Resolver\OpinionTypesResolver
      arguments: ['@capco.opinion_type.repository', '@capco.opinion.repository', '@router']

  capco.search.resolver:
    class: Capco\AppBundle\Resolver\SearchResolver
    arguments: ['@fos_elastica.index', '@fos_elastica.elastica_to_model_transformer.collection.app']

  capco.section.resolver:
    class: Capco\AppBundle\Resolver\SectionResolver
    arguments: ['@capco.section.repository', '@capco.toggle.manager']

  capco.site_color.resolver:
    class: Capco\AppBundle\SiteColor\Resolver
    arguments: ['@capco.site_color.repository', '@logger']

  capco.site_image.resolver:
    class: Capco\AppBundle\SiteImage\Resolver
    arguments: ['@capco.site_image.repository', '@logger']

  capco.site_parameter.resolver:
    class: Capco\AppBundle\SiteParameter\Resolver
    arguments: ['@capco.site_parameter.repository', '@logger']

  capco.step.resolver:
    class: Capco\AppBundle\Resolver\StepResolver
    arguments: ['@capco.url.resolver']

  capco.twig.highlighted_resolver:
    class: Capco\AppBundle\Twig\HighlightedContentExtension
    arguments: ['@capco.highlighted.resolver']
    tags:
      - { name: twig.extension }

  capco.twig.section_resolver:
    class: Capco\AppBundle\Twig\SectionExtension
    arguments: ['@capco.section.resolver']
    tags:
      - { name: twig.extension }

  capco.url.resolver:
      class: Capco\AppBundle\Resolver\UrlResolver
      arguments: ['@router', '@capco.toggle.manager']

  capco.url.array.resolver:
      class: Capco\AppBundle\Resolver\UrlArrayResolver
      arguments: ['@router']

  capco.vote.resolver:
    class: Capco\AppBundle\Resolver\VoteResolver
    arguments: ['@router', '@capco.url.resolver']

  capco.proposal.resolver:
    class: Capco\AppBundle\Resolver\ProposalResolver
    arguments: ['@capco.url.resolver']

  capco.proposal_votes.resolver:
    class: Capco\AppBundle\Resolver\ProposalVotesResolver
    arguments: ['@capco.proposal_vote.repository', '@capco.selection_step.repository']

  capco.project_stats.resolver:
    class: Capco\AppBundle\Resolver\ProjectStatsResolver
    arguments: ['@capco.selection_step.repository', '@capco.collect_step.repository', '@capco.theme.repository', '@capco.district.repository', '@capco.user_type.repository', '@capco.proposal.repository', '@capco.proposal_vote.repository']

  capco.media.manager:
    class: Capco\AppBundle\Manager\MediaManager
    arguments: ['@sonata.media.manager.media']

  capco.media.response.media.manager:
    class: Capco\AppBundle\Manager\ResponseMediaManager
    arguments: ['@doctrine.orm.entity_manager', '@capco.media.manager']
