services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Capco\AppBundle\Utils\:
    resource: '%kernel.root_dir%/../src/Capco/AppBundle/Utils/*'
  #    exclude: '%kernel.root_dir%/../src/Capco/AppBundle/{}'
  Capco\AppBundle\GraphQL\:
    resource:
      '%kernel.root_dir%/../src/Capco/AppBundle/GraphQL/{GraphQLToCsv.php, ConnectionTraversor.php}'

  Capco\AppBundle\Utils\Map:
    public: true
    arguments:
      $apiSeverKey: '%google_maps_key_server%'

  capco.utils.array_hydrator:
    class: pmill\Doctrine\Hydrator\ArrayHydrator
    arguments: ['@doctrine.orm.default_entity_manager']

  capco.utils.throwable_email_checker:
    class: EmailChecker\EmailChecker
    arguments: ['@capco.utils.throwable_email_checker.adapter']

  capco.utils.throwable_email_checker.adapter:
    class: EmailChecker\Adapter\FileAdapter
    arguments: ['%kernel.root_dir%/config/throwable_emails.txt']
