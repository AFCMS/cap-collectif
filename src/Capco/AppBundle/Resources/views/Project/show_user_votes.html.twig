{% extends '@CapcoApp/Project/layout_with_widget.html.twig' %}

{% block canonical_link %}{{ url('app_project_show_user_votes', {'projectSlug': project.slug}, true) }}{% endblock %}

{% block title %}
    {{ parent() }}
{% endblock %}

{% block jumbotron %}{% endblock %}

{% block reduxStore %}
  {% set initialState = {
    'proposal': {
      'userVotesByStepId': project|proposal_votes_list(app.user),
      'creditsLeftByStepId': project|credits_list_list(app.user),
      'proposalsById': [],
    }
  } %}
  {% include '@CapcoApp/redux_store.html.twig' with {'data' : state|merge(initialState)} %}
{% endblock %}

{% block body %}
    {{ react_intl_component('ProposalsUserVotesPageApp', {
        'props': props,
        'rendering': (app.user and not feature_is_active('server_side_rendering')) ? 'client_side' : 'both',
       })
    }}
{% endblock %}
