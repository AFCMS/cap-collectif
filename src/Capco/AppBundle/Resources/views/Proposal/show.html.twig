{% extends '@CapcoApp/Project/layout_with_widget.html.twig' %}

{% block canonical_link %}{{ '' }}{% endblock %}

{% block title %}
    {{ parent() }} - {{ proposal.title }}
{% endblock %}

{% block jumbotron %}{% endblock %}

{% block reduxStore %}
  {% set initialState = {
    'proposal': {
      'currentProposalId': proposal.id,
      'proposalsById': {
        (proposal.id) : proposalSerialized
      },
      'referer': referer,
      'userVotesByStepId': project|proposal_votes_list(app.user),
      'creditsLeftByStepId': project|credits_list_list(app.user)
    }
  } %}
  {% include '@CapcoApp/redux_store.html.twig' with {'data' : initialState} %}
{% endblock %}

{% block body %}
    {{ react_intl_component('ProposalPageApp', {'props': props}) }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=***REMOVED***&libraries=places"></script>
{% endblock %}
