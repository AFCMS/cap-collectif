
{% set state = {
  'default': {
    'themes': features_list(),
    'features': features_list(),
    'parameters': site_parameters_list(),
    'isLoggedIn': app.user ? true : false,
    'user': app.user
      ? {
          'username': app.user.username,
          'isEmailConfirmed': app.user.isEmailConfirmed,
          'isPhoneConfirmed': app.user.isPhoneConfirmed,
          'phone': app.user.phone,
          'isAdmin': app.user.isAdmin,
          'email': app.user.email,
          'media': app.user.Media
          ? {
              'url': media_public_url(app.user.Media, 'default_avatar')
            }
          : null,
          'displayName': app.user.username,
          'uniqueId': app.user.slug,
        }
      : null,
    'user_types': user_type_list(),
  }
} %}
{% set state = state|merge(data is defined ? data : {}) %}

{{ redux_store('appStore', state) }}
