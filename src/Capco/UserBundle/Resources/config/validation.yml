Capco\UserBundle\Entity\User:
  constraints:
    - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity:
        fields: [email]
        message: user.register.already_used_email
  properties:
    username:
      - Notblank: ~
      - Length:
          min: 2
          max: 20
    isTermsAccepted:
      - NotNull: ~
      - "True": ~
    email:
      - Notblank: ~
      - Email:
          checkMX: true
          message: user.register.invalid_email
    Media:
      - Valid: ~
