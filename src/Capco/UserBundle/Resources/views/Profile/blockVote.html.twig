{% set label = null %}
{% if vote.value is not defined %}
    {% set value = 'votes.value.agree' | trans({}, 'CapcoAppBundle') %}
    {% set label = '<span class="label label-success">' ~ value ~ '</span>' %}
{% elseif vote.value == 0 %}
    {% set value = 'votes.value.mitigated' | trans({}, 'CapcoAppBundle') %}
    {% set label = '<span class="label label-warning">' ~ value ~ '</span>' %}
{% elseif vote.value == 1 %}
    {% set value = 'votes.value.agree' | trans({}, 'CapcoAppBundle') %}
    {% set label = '<span class="label label-success">' ~ value ~ '</span>' %}
{% elseif vote.value == -1 %}
    {% set value = 'votes.value.disagree' | trans({}, 'CapcoAppBundle') %}
    {% set label = '<span class="label label-danger">' ~ value ~ '</span>' %}
{% endif %}
<li class="opinion  opinion--comment {% if classes is defined %}{{ classes }}{% endif %}" id="vote-{{ vote.id }}">
    <div class="opinion__body">
        {% if null != vote.user.Media %}
            {% include 'CapcoUserBundle:Avatar:avatar.html.twig' with { 'user': vote.user, 'link_classes': 'pull-left'} only %}
        {% else %}
            <span class="pull-left">
                <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="45px" height="45px" viewBox="0 0 200 200" enable-background="new 0 0 200 200" xml:space="preserve"><circle fill="{{ capco_site_color_value('color.section.bg')  }}" cx="100" cy="100" r="97.617"/><g><path fill="none" stroke="#FFFFFF" stroke-width="3" stroke-linejoin="round" stroke-miterlimit="10" d="M100,160.011h68.011c0,0,0-12.163-5.916-23.993c-4.41-8.819-22.024-14.039-45.683-22.908V95.367c0,0,7.239-6.661,7.239-18.49c2.959,0,5.916-11.826,0-14.785c0-1.754,7.927-16.569,5.916-26.613c-2.957-14.786-44.353-14.786-47.309-2.955c-17.742,0-5.915,27.169-5.915,29.568c-5.913,2.959-2.957,14.785,0,14.785c0,11.829,7.238,17.473,7.238,17.473v18.759c-23.655,8.875-41.273,14.089-45.682,22.908c-5.911,11.83-5.911,23.993-5.911,23.993H100z"/></g></svg>
            </span>
        {% endif %}
        <div class="opinion__data">
            <p class="opinion__user h5">
                <a href="{{ path('capco_user_profile_show_all', {'slug': vote.user.slug}) }}">{{ vote.user.username }}</a>
                {{ 'votes.has_voted' | trans({}, 'CapcoAppBundle') }}
                <a href="{{ capco_vote_object_url(vote) }}">{{ capco_vote_object(vote) }}</a>
            </p>
            <p class="excerpt  opinion__date">{{ vote.updatedAt | localizeddate('long', 'short', app.request.locale) }}</p>
            <p>{{ label | raw }}</p>
        </div>
    </div>
</li>
